{"ast":null,"code":"var _jsxFileName = \"/home/alta16/Documents/livecode-react/livecode-react/live-react/src/pages/home.js\";\nimport React, { Component } from 'react';\nimport '../assets/css/bootstrap.min.css';\nimport '../assets/css/main.css';\nimport Header from '../components/header';\nimport ListCategory from '../components/list-category';\nimport MoviesData from './movies-data';\nimport axios from \"axios\";\nimport { withRouter } from \"react-router-dom\"; // import { withRouter, Redirect } from \"react-router-dom\";\n\nimport { connect } from \"unistore/react\"; // import { actions } from \"../store\";\n\nimport { actions, store } from \"../store\"; // import Login from \"./login\";\n\nconst baseUrl = \"https://api-todofancy.herokuapp.com/api/movies\"; // const apiKey = \"448feafa267b4bf4babf102fe746d08b\";\n// const baseUrlTop = \"https://newsapi.org/v2/top-headlines\"\n// const country = \"id\"\n// const urlHeadline = baseUrlTop + \"?country=\" + country + \"&apiKey=\" + apiKey;\n\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.axiosMovies = async () => {\n      const category = this.props.match.params.category; // const self = this;\n\n      await axios.get(`${baseUrl}/${category}`).then(function (response) {\n        store.setState({\n          listMovie: response.data.movies,\n          isLoading: false\n        });\n      }).catch(function (error) {\n        store.setState({\n          isLoading: false\n        });\n      });\n    };\n\n    this.componentDidMount = () => {\n      this.axiosMovies();\n    };\n  }\n\n  render() {\n    const category = this.props.match.params.category;\n    console.log(\"aaaaaaaaaaaaaaaaaaaaaa\", this.props.match.params.category);\n\n    if (category === \"\") {\n      console.log(\"aaaaaaaaaaaaaaaaaaaaaa\");\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(Header, Object.assign({}, this.props, {\n        doSearch: event => this.props.handleInputChange(event),\n        doCategory: e => this.props.categoryNews(e),\n        placeholder: \"ketik sesuatu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(ListCategory, {\n        doCategory: e => this.props.categoryMovies(e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      })));\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(Header, Object.assign({}, this.props, {\n        doSearch: event => this.props.handleInputChange(event),\n        doCategory: e => this.props.categoryNews(e),\n        placeholder: \"ketik sesuatu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(MoviesData, Object.assign({}, this.props, {\n        listMovie: this.props.listMovie,\n        isLoading: this.props.isLoading,\n        doCategory: e => this.props.categoryMovies(e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }))));\n    } // }\n    // else{\n    //     return <Redirect to={{ pathname: \"/login\" }} />;\n    // }\n\n  }\n\n}\n\nexport default connect(\"listMovie, isLoading, is_login\", actions)(withRouter(Home));","map":{"version":3,"sources":["/home/alta16/Documents/livecode-react/livecode-react/live-react/src/pages/home.js"],"names":["React","Component","Header","ListCategory","MoviesData","axios","withRouter","connect","actions","store","baseUrl","Home","axiosMovies","category","props","match","params","get","then","response","setState","listMovie","data","movies","isLoading","catch","error","componentDidMount","render","console","log","event","handleInputChange","e","categoryNews","categoryMovies"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAO,iCAAP;AACA,OAAO,wBAAP;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAOC,UAAP,MAAuB,eAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B,C,CACA;;AACA,SAASC,OAAT,QAAwB,gBAAxB,C,CACA;;AACA,SAASC,OAAT,EAAkBC,KAAlB,QAA+B,UAA/B,C,CACA;;AAEA,MAAMC,OAAO,GAAG,gDAAhB,C,CACA;AACA;AACA;AACA;;AAEA,MAAMC,IAAN,SAAmBV,SAAnB,CAA4B;AAAA;AAAA;;AAAA,SAExBW,WAFwB,GAEV,YAAW;AACrB,YAAMC,QAAQ,GAAG,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBH,QAAzC,CADqB,CAErB;;AACA,YAAMR,KAAK,CACNY,GADC,CACI,GAAEP,OAAQ,IAAGG,QAAS,EAD1B,EAEDK,IAFC,CAEI,UAASC,QAAT,EAAkB;AACpBV,QAAAA,KAAK,CAACW,QAAN,CAAe;AAACC,UAAAA,SAAS,EAAEF,QAAQ,CAACG,IAAT,CAAcC,MAA1B;AAAkCC,UAAAA,SAAS,EAAE;AAA7C,SAAf;AACH,OAJC,EAKDC,KALC,CAKK,UAASC,KAAT,EAAe;AAClBjB,QAAAA,KAAK,CAACW,QAAN,CAAe;AAACI,UAAAA,SAAS,EAAE;AAAZ,SAAf;AACH,OAPC,CAAN;AAQH,KAbuB;;AAAA,SAcxBG,iBAdwB,GAcJ,MAAM;AACtB,WAAKf,WAAL;AACH,KAhBuB;AAAA;;AAiBxBgB,EAAAA,MAAM,GAAE;AACA,UAAMf,QAAQ,GAAG,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBH,QAAzC;AACAgB,IAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsC,KAAKhB,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBH,QAA9D;;AACA,QAAIA,QAAQ,KAAK,EAAjB,EAAoB;AAChBgB,MAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACA,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD,oBAAY,KAAKhB,KAAjB;AAAwB,QAAA,QAAQ,EAAEiB,KAAK,IAAI,KAAKjB,KAAL,CAAWkB,iBAAX,CAA6BD,KAA7B,CAA3C;AAAgF,QAAA,UAAU,EAAEE,CAAC,IAAI,KAAKnB,KAAL,CAAWoB,YAAX,CAAwBD,CAAxB,CAAjG;AACI,QAAA,WAAW,EAAC,eADhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADJ,EAGI;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,YAAD;AAAc,QAAA,UAAU,EAAEA,CAAC,IAAI,KAAKnB,KAAL,CAAWqB,cAAX,CAA0BF,CAA1B,CAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAHJ,CADJ;AASH,KAXD,MAYI;AACA,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD,oBAAY,KAAKnB,KAAjB;AAAwB,QAAA,QAAQ,EAAEiB,KAAK,IAAI,KAAKjB,KAAL,CAAWkB,iBAAX,CAA6BD,KAA7B,CAA3C;AAAgF,QAAA,UAAU,EAAEE,CAAC,IAAI,KAAKnB,KAAL,CAAWoB,YAAX,CAAwBD,CAAxB,CAAjG;AACI,QAAA,WAAW,EAAC,eADhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADJ,EAGI;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,UAAD,oBAAgB,KAAKnB,KAArB;AAA4B,QAAA,SAAS,EAAI,KAAKA,KAAL,CAAWO,SAApD;AAA+D,QAAA,SAAS,EAAE,KAAKP,KAAL,CAAWU,SAArF;AAAgG,QAAA,UAAU,EAAES,CAAC,IAAI,KAAKnB,KAAL,CAAWqB,cAAX,CAA0BF,CAA1B,CAAjH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADJ,CAHJ,CADJ;AASH,KAzBD,CA2BJ;AACA;AACA;AACA;;AAEH;;AAjDuB;;AAmD5B,eAAe1B,OAAO,CAClB,gCADkB,EAElBC,OAFkB,CAAP,CAGXF,UAAU,CAACK,IAAD,CAHC,CAAf","sourcesContent":["import React, {Component} from 'react';\nimport '../assets/css/bootstrap.min.css';\nimport '../assets/css/main.css';\nimport Header from '../components/header';\nimport ListCategory from '../components/list-category';\nimport MoviesData from './movies-data';\nimport axios from \"axios\";\nimport { withRouter } from \"react-router-dom\";\n// import { withRouter, Redirect } from \"react-router-dom\";\nimport { connect } from \"unistore/react\";\n// import { actions } from \"../store\";\nimport { actions, store } from \"../store\";\n// import Login from \"./login\";\n\nconst baseUrl = \"https://api-todofancy.herokuapp.com/api/movies\";\n// const apiKey = \"448feafa267b4bf4babf102fe746d08b\";\n// const baseUrlTop = \"https://newsapi.org/v2/top-headlines\"\n// const country = \"id\"\n// const urlHeadline = baseUrlTop + \"?country=\" + country + \"&apiKey=\" + apiKey;\n\nclass Home extends Component{\n    \n    axiosMovies = async() => {\n        const category = this.props.match.params.category;\n        // const self = this;\n        await axios\n            .get(`${baseUrl}/${category}`)\n            .then(function(response){\n                store.setState({listMovie: response.data.movies, isLoading: false});\n            })\n            .catch(function(error){\n                store.setState({isLoading: false});\n            });\n    }\n    componentDidMount = () => {\n        this.axiosMovies();\n    };\n    render(){\n            const category = this.props.match.params.category;\n            console.log(\"aaaaaaaaaaaaaaaaaaaaaa\", this.props.match.params.category)\n            if (category === \"\"){\n                console.log(\"aaaaaaaaaaaaaaaaaaaaaa\")\n                return (\n                    <div>\n                        <Header {...this.props} doSearch={event => this.props.handleInputChange(event)} doCategory={e => this.props.categoryNews(e)}\n                            placeholder=\"ketik sesuatu\"/>\n                        <div className=\"container\">\n                            <ListCategory doCategory={e => this.props.categoryMovies(e)}/>\n                        </div>\n                    </div>   \n                );\n            }\n            else{\n                return (\n                    <div>\n                        <Header {...this.props} doSearch={event => this.props.handleInputChange(event)} doCategory={e => this.props.categoryNews(e)}\n                            placeholder=\"ketik sesuatu\"/>\n                        <div className=\"container\">\n                            <MoviesData {...this.props} listMovie = {this.props.listMovie} isLoading={this.props.isLoading} doCategory={e => this.props.categoryMovies(e)}/>\n                        </div>\n                    </div>  \n                )\n            }\n            \n        // }\n        // else{\n        //     return <Redirect to={{ pathname: \"/login\" }} />;\n        // }\n        \n    }\n}\nexport default connect(\n    \"listMovie, isLoading, is_login\",\n    actions\n  )(withRouter(Home));"]},"metadata":{},"sourceType":"module"}